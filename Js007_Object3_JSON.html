<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON</title>
</head>
<script>
/*
    JSON : JavaScript Object Notation
    주로 data 를 담기 위한 용도의 JavaScript object 구문
    오늘날 웹, 앱 등 애플리케이션 개발에서 데이터교환의 중요한 ★텍스트★포맷.
        
    JSON 구문에선 name/value 쌍에서 name은 반드시 쌍따옴표로 감싸야 한다
    문자열 데이터는 반드시 쌍따옴표로만 감싸야 한다.
        ex) {"name":"John"}
            
    JavaScript에선 object 에서 property name에 쌍따옴표 사용안했다!
    문자열 데이터는 쌍따옴표 혹은 홀따옴표로 감쌀수 있다.  	
        ex) {name:'John'}
                
    JSON 에서 담을수 있는 data type : string, number, object(JSON), array, boolean, null
    JSON 에서 담을수 없는 data type : function, date, undefined
            
    [JS 의 관련 주요함수]	
    JSON.parse()  : string -> object
    JSON.stringify() : object -> string
		-> date object 는 허용되지 않는다. (문자열로 변환된다)
		-> function은 안된다. stringify() 하면 함수는 빠진다.

    JSON 파일명 : *.json
    JSON MIME type : application/json
	
    참조
    https://www.w3schools.com/js/js_json_syntax.asp
*/
</script>

<body>
    <h2>JSON</h2>
    <script>
        var myObj = {
            name: "John",
            age: 31,
            city: 'New York'
        };
        document.write(myObj + "<br>");
        document.write(JSON.stringify(myObj) + "<br>");


        var myJSON =    // string type
            '{"name":"John", "age":31, "city":"New York"}'; // " "안해주면 밑에 line parse 구문에서 오류난다. JSON 구문이 아니기 때문에.
        var myObj = JSON.parse(myJSON);
        document.write(myObj.name + " " +myObj.age + "<br>");


        var arr = ["John", 'Peter', 'Sally', "Jane"];
        var myJSON = JSON.stringify(arr);   // 배열을 JSON 문자열로 바꾸기
        document.write(myJSON + "<br>");


        // JSON 으로 변환안되는 값들
        var myObj = {
            name: "John",
            today: new Date(),  // Date() 객체는 JSON 변환시 "문자열" 로 변환
            city: "New York",
            place: undefined,   // 변환안됨 (JSON 에서 담을수 없는 data type)
            func1: function(){} // 변환안됨 (JSON 에서 담을수 없는 data type)
        };
        var myJSON = JSON.stringify(myObj);
        document.write(myJSON + "<br>");

        document.write("<hr>정상 종료<hr>");
    </script>

</body>

</html>
