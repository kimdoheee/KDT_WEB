<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <title>JS Object</title>
</head>

<body>
    <h2>JavaScript object 추가</h2>

    <p id="demo1"></p>
    <p id="demo2"></p>
    <p id="demo3"></p>

    <script>
        // 방법1 : object 타입 변수 선언
        var person1 = {
            firstName: "John",
            lastName: "Doe",
            age: 50,
            score: [77, 80, 65],
            eyeColor: "blue",
            getTotal: function () {
                var sum = 0;
                for (score of this.score) {
                    sum += score;
                }
                return sum;
            },
        };

        person1.address = "서울"; // property 추가가 자유롭다.

        document.getElementById("demo1").innerHTML =
            `이름: ${person1.firstName}, 나이: ${person1.age}, 총점: ${person1.getTotal()}, 주소: ${person1.address}`;


        // 방법2 : new Object() 로 생성
        var person2 = new Object();
        person2.firstName = "Jane";
        person2.lastName = "Doe"

        document.getElementById("demo2").innerHTML = `이름: ${person2.firstName}`;


        // 방법3 : 생성자(Constructor)로도 가능하다
        // JavaScript 에서 객체는 언제나 함수(function) 로 생성된다.
        function Person3(firstName, lastName, age, eyeColor) { // 함수 맞는데?
            this.firstName = firstName;
            this.lastName = lastName;
            this.age = age;
            this.eyeColor = eyeColor;
        }

        var mySon = new Person3("Clark", "Kent", 47, "brown"); // 함수로 객체 생성? Person3 이 함수이면서 생성자 역할을 한다.

        document.getElementById("demo3").innerHTML = `이름: ${mySon.firstName} ${mySon.lastName}`;

        /* this 의 정체!
         - JS code 를 소유한(own) object다!
         - '함수 안'에서의 this 는 함수를 소유한(own) object다
         - 'object 안'에서의 this 는  object 그 자신이다.
         - '생성자(constructor) 안'에서의 this 는 그 자체가 값을 갖고 있진 않다.
           	단지, 생성된 새로운 object에서 치환된다.
           	즉 new 로 생성된 새로운 object 가 바로 this 가 된다.
         - this 는 변수가 아니다!! 키워드다!!  따라서 this 의 값을 수정할수 없다
        */
    </script>

</body>

</html>
